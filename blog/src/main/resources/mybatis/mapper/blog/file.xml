<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="gdut.ff.mapper.FileMapper">

  <resultMap id="fileMap" type="gdut.ff.domain.File">
	  <id column="id" property="id" jdbcType="VARCHAR" javaType="String"/>
	  <result column="file_id" property="fileId" jdbcType="VARCHAR" javaType="String"/>
	  <result column="count" property="count" jdbcType="INTEGER" javaType="int"/>
	  <result column="file_name" property="fileName" jdbcType="VARCHAR" javaType="String"/>
	  <result column="file_introduction" property="fileIntroduction" jdbcType="VARCHAR" javaType="String"/>
	  <result column="file_photo" property="filePhoto" jdbcType="VARCHAR" javaType="String"/>
	  <result column="file_path" property="filePath" jdbcType="VARCHAR" javaType="String"/>
	  <result column="gmt_create" property="gmtCreate" jdbcType="TIMESTAMP" javaType="java.util.Date"/>
	  <result column="gmt_modified" property="gmtModified" jdbcType="TIMESTAMP" javaType="java.util.Date"/>
  </resultMap>
  
  <!-- 插入一条记录 -->
  <insert id="insertFile" parameterType="gdut.ff.domain.File">
	  insert into file (id,file_id,count,file_name,file_introduction,file_photo,file_path,gmt_create,gmt_modified)
	  values (#{id},#{fileId},#{count},#{fileName},#{fileIntroduction},#{filePhoto},#{filePath},#{gmtCreate},#{gmtModified})
  </insert>
  
  <!-- 查找记录 -->
  <select id="findFileById" resultMap="fileMap">
  	  select id,file_id,count,file_name,file_introduction,file_photo,file_path,gmt_create,gmt_modified
  	  from file
  </select>
  
   <!-- 查找全部记录 -->
  <select id="findAllFile" resultMap="fileMap">
      select id,file_id,count,file_name,file_introduction,file_photo,file_path,gmt_create,gmt_modified
      from file
      where 1 = 1
          <if test = "id != null and id != ''">
          	  and id = #{id}
          </if>
          <if test = "fileId != null and fileId != ''">
              and file_id = #{fileId}
          </if>
          <if test = "count != null and count != ''">
          	  and count = #{count}
          </if>
          <if test = "fileName != null and fileName != ''">
              and file_name = #{fileName}
          </if>
          <if test = "fileIntroduction != null and fileIntroduction != ''">
          	  and file_introduction = #{fileIntroduction}
          </if>
          <if test = "filePhoto != null and filePhoto != ''">
          	  and file_photo = #{filePhoto}
          </if>
          <if test = "filePath != null and filePath != ''">
          	  and file_path = #{filePath}
          </if>
          <if test = "gmtCreate != null and gmtCreate != ''">
          	  and gmt_create = #{gmtCreate}
          </if>
          <if test = "gmtModified != null and gmtModified != ''">
              and gmt_modified = #{gmtModified}
          </if>
  </select>
  
  <!-- 更新记录-->
  <update id="updateFile" parameterType="gdut.ff.domain.File">
	  update file
	  <set>
	         <if test = "id != null and id != ''">
	             id = #{id},
	          </if>
	         <if test = "fileId != null and fileId != ''">
	             file_id = #{fileId},
	          </if>
	         <if test = "count != null and count != ''">
	             count = #{count},
	          </if>
	         <if test = "fileName != null and fileName != ''">
	             file_name = #{fileName},
	          </if>
	         <if test = "fileIntroduction != null and fileIntroduction != ''">
	             file_introduction = #{fileIntroduction},
	          </if>
	         <if test = "filePhoto != null and filePhoto != ''">
	             file_photo = #{filePhoto},
	          </if>
	         <if test = "filePath != null and filePath != ''">
	             file_path = #{filePath},
	          </if>
	         <if test = "gmtCreate != null and gmtCreate != ''">
	             gmt_create = #{gmtCreate},
	          </if>
	         <if test = "gmtModified != null and gmtModified != ''">
	             gmt_modified = #{gmtModified},
	          </if>
	  </set>
	  <where>
	      id = ${id}
	  </where>
  </update>
  
  <!-- 删除记录 -->
  <delete id="deletefileById" parameterType="java.lang.String">
      delete from file where id = #{id}
  </delete>
</mapper>